/*!
 Javascript framework for building user interfaces
 Copyright (c) 2018 A.D.
 License: Apache-2.0
*/
var ad=ad||{};ad.validator=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/assets/",e(e.s=9)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.adapter_=e}return i(t,null,[{key:"cssClasses",get:function(){return{}}},{key:"strings",get:function(){return{}}},{key:"numbers",get:function(){return{}}},{key:"defaultAdapter",get:function(){return{}}}]),i(t,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),t}();e.a=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;r(this,t),this.root_=e;for(var i=arguments.length,a=Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];this.initialize.apply(this,a),this.foundation_=void 0===n?this.getDefaultFoundation():n,this.foundation_.init(),this.initialSyncWithDOM()}return a(t,null,[{key:"attachTo",value:function(e){var n=new t(e,new i.a);return e.ad=e.ad||{},e.ad[i.a.strings.INSTANCE_KEY]=n,n}},{key:"getInstance",value:function(t){return t.ad&&t.ad[i.a.strings.INSTANCE_KEY]?t.ad[i.a.strings.INSTANCE_KEY]:null}}]),a(t,[{key:"initialize",value:function(){}},{key:"getDefaultFoundation",value:function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")}},{key:"initialSyncWithDOM",value:function(){}},{key:"destroy",value:function(){this.foundation_.destroy()}},{key:"listen",value:function(t,e){this.root_.addEventListener(t,e)}},{key:"unlisten",value:function(t,e){this.root_.removeEventListener(t,e)}},{key:"emit",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=void 0;"function"==typeof CustomEvent?r=new CustomEvent(t,{detail:e,bubbles:n}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,n,!1,e)),this.root_.dispatchEvent(r)}}]),t}();e.a=o},,,,,,,,function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ADValidator",function(){return c});var o=n(1),u=n(10),s=n(11);n.d(e,"ADValidatorFoundation",function(){return u.a});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),l(e,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t,e){return new s.a(t,void 0,e)};"FORM"===this.root_.tagName&&this.root_.setAttribute("novalidate",""),this.controls_=[];for(var e,n=this.root_.querySelectorAll("["+u.a.strings.VALIDATE+"]"),r=0;e=n[r];r++){var i=t(e,u.a.rules);this.controls_.push(i)}}},{key:"getDefaultFoundation",value:function(){var t=this;return new u.a({isValid:function(){for(var e,n=!0,r=0;e=t.controls_[r];r++)e.isValid()||(n=!1);return n},getDetails:function(){for(var e,n,r=[],i=0;e=t.controls_[i];i++)e&&(n=e.getDetail()),n.message&&(n.isGroup&&!t.isInDerailsList_(r,n)||!n.isGroup)&&r.push(n);return r}})}},{key:"isValid",value:function(){return this.foundation_.isValid()}},{key:"getDetails",value:function(){return this.foundation_.getDetails()}},{key:"isInDerailsList_",value:function(t,e){for(var n,r=!1,i=0;n=t[i];i++)n.label===e.label&&(r=!0);return r}}],[{key:"attachTo",value:function(t){var n=new e(t);return t.ad=t.ad||{},t.ad[u.a.strings.INSTANCE_KEY]=n,n}},{key:"getInstance",value:function(t){return t.ad&&t.ad[u.a.strings.INSTANCE_KEY]?t.ad[u.a.strings.INSTANCE_KEY]:null}}]),e}(o.a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=n(0),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l={},c={INSTANCE_KEY:"ad-validator",VALIDATE:"ad-val",MATCH:"ad-val-match",ID:"ad-id",GROUP:"ad-group"},f={"ad-val-required":{hnd:function(t,e,n){var r=!1;if(!t.type||"checkbox"!==t.type&&"radio"!==t.type)""!==n.trim()&&(r=!0);else if(n)r=!0;else for(var i,a=t.getAttribute(d.strings.GROUP),o=document.querySelectorAll("["+d.strings.GROUP+"="+a+"]"),u=0;i=o[u];u++)!0===i.checked&&(r=!0);return r},detail:"Required"},"ad-val-phone":{pattern:/^\(?\d{3}\)?[\s-]?\d{3}[\s-]?\d{4}$/,detail:"Phone number is not valid"},"ad-val-email":{pattern:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,detail:"Email is not valid"},"ad-val-url":{pattern:/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)$/,detail:"URL is not valid"},"ad-val-zip":{pattern:/^\d{5}(-\d{4})?$/,detail:"ZIP code is not valid"},"ad-val-decimal":{pattern:/^[0-9]+(\.[0-9][0-9]?)?$/,detail:"Decimal number is not valid"},"ad-val-number":{pattern:/^[0-9]*$/,detail:"Number is not valid"},"ad-val-match":{hnd:function(t,e,n){var r=!1,i=t.getAttribute(d.strings.MATCH),a=document.querySelector("["+d.strings.ID+"="+i+"]");if(a){var o=a.value.trim();n=n.trim(),!n||""!==n&&n!==o||(r=!0)}return r},detail:"Does not match"}},d=function(t){function e(t){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,u(e.defaultAdapter,t)))}return a(e,t),s(e,null,[{key:"addRule",value:function(t,e){f[e]=t}},{key:"cssClasses",get:function(){return l}},{key:"strings",get:function(){return c}},{key:"rules",get:function(){return f}},{key:"defaultAdapter",get:function(){return{isRootForm:function(){},disableDefaultValidation:function(){},registerValidators:function(){},isValid:function(){},getDetails:function(){}}}}]),s(e,[{key:"init",value:function(){}},{key:"isValid",value:function(){return this.adapter_.isValid()}},{key:"getDetails",value:function(){return this.adapter_.getDetails()}}]),e}(o.a);e.a=d},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=n(1),u=n(12),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"initialize",value:function(t){this.rules_=t}},{key:"getDefaultFoundation",value:function(){var t=this;return new u.a({isRequired:function(){return t.root_.hasAttribute(u.a.strings.REQUIRED)},registerEvent:function(e,n){t.listen(e,function(t){n(t.value)})},getAllAtributes:function(){for(var e,n=[],r="",i=0;e=t.root_.attributes[i];i++)r=e.name,r.startsWith(u.a.strings.START_WITH)&&n.push(r);return n},getMessage:function(){return t.root_.getAttribute(u.a.strings.MESSAGE)},getRules:function(){return t.rules_},setNotValidIndicator:function(e){var n=t.root_.closest("["+u.a.strings.CONTROL_GROUP+"]");n&&n.classList.add(u.a.strings.ERROR_CLASS);var r=n.querySelector("["+u.a.strings.MESSAGE_SHOW+"]");r&&(r.innerHTML=e.message,r.style.display="block")},removeNotValidIndicator:function(){var e=t.root_.closest("["+u.a.strings.CONTROL_GROUP+"]");e&&e.classList.remove(u.a.strings.ERROR_CLASS);var n=e.querySelector("["+u.a.strings.MESSAGE_SHOW+"]");n&&(n.innerHTML="",n.style.display="none")},isChangeCheckboxType:function(){var e=t.root_;return"SELECT"===e.nodeName||e.type&&("checkbox"==e.type||"radio"==e.type)},getValue:function(){return t.getValue_()},getElement:function(){return t.root_},getLabel:function(){var e="",n=t.root_.closest("["+u.a.strings.CONTROL_GROUP+"]"),r=n.querySelector("["+u.a.strings.LABEL+"]");return r&&(e=r.getAttribute(u.a.strings.LABEL)),e},isInGroup:function(){return t.root_.hasAttribute(u.a.strings.GROUP)}})}},{key:"isValid",value:function(){var t=this.getValue_();return this.foundation_.isValid(t)}},{key:"getDetail",value:function(){return this.foundation_.getDetail()}},{key:"getValue_",value:function(){var t=this.root_;return!t.type||"checkbox"!==t.type&&"radio"!==t.type?t.value:t.checked}}],[{key:"attachTo",value:function(t){var n=new e(t);return t.ad=t.ad||{},t.ad[u.a.strings.INSTANCE_KEY]=n,n}},{key:"getInstance",value:function(t){return t.ad&&t.ad[ADValidatorItemFoundation.strings.INSTANCE_KEY]?t.ad[ADValidatorItemFoundation.strings.INSTANCE_KEY]:null}}]),e}(o.a);e.a=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=n(0),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c={INSTANCE_KEY:"ad-validator-item",START_WITH:"ad-val",MESSAGE:"ad-message",MESSAGE_SHOW:"ad-message-show",BLUR_EVENT:"blur",KEYUP_EVENT:"keyup",CHANGE_EVENT:"change",REQUIRED:"ad-val-required",ERROR_CLASS:"ad-error",LABEL:"ad-label",CONTROL_GROUP:"ad-control-group",GROUP:"ad-group"},f=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,s(e.defaultAdapter,t)));return n.attributes_=[],n.required_=!1,n.detail_={},n.label_="Control",n.validateHandler_=function(){var t=n.adapter_.getValue();n.isValid(t)},n}return a(e,t),l(e,null,[{key:"strings",get:function(){return c}},{key:"defaultAdapter",get:function(){return{isRequired:function(){},registerEvent:function(){},getAllAtributes:function(){},getMessage:function(){},getRules:function(){},setNotValidIndicator:function(){},removeNotValidIndicator:function(){},isChangeCheckboxType:function(){},getValue:function(){},getElement:function(){},getLabel:function(){},isInGroup:function(){}}}}]),l(e,[{key:"init",value:function(){this.attributes_=this.adapter_.getAllAtributes(),this.isRequired_=this.adapter_.isRequired(),this.element_=this.adapter_.getElement(),this.adapter_.isChangeCheckboxType()?this.adapter_.registerEvent(e.strings.CHANGE_EVENT,this.validateHandler_):(this.adapter_.registerEvent(e.strings.KEYUP_EVENT,this.validateHandler_),this.adapter_.registerEvent(e.strings.BLUR_EVENT,this.validateHandler_));var t=this.adapter_.getLabel();t&&""!=t.trim()&&(this.label_=t)}},{key:"isValid",value:function(t){var n=!0;if(this.isRequired_&&(n=this.validate_(e.strings.REQUIRED,t)),"boolean"===!(void 0===t?"undefined":u(t))&&(t=""!==t.trim()),n&&t)for(var r,i=0;(r=this.attributes_[i])&&(n=this.validate_(r,t));i++);return n?this.adapter_.removeNotValidIndicator():this.adapter_.setNotValidIndicator(this.detail_),n}},{key:"getDetail",value:function(){return this.detail_}},{key:"validate_",value:function(t,e){var n=!0,r=this.resolveAttribute_(t,e),i=r.validated,a=r.detail;return this.detail_={},i||(i=this.adapter_.getMessage(),i&&(a=i),this.detail_={label:this.label_,message:a,isGroup:this.adapter_.isInGroup()},n=!1),n}},{key:"resolveAttribute_",value:function(t,e){var n=this.adapter_.getRules(),r=n[t],i=!0,a="";return r&&(i=r.hnd?r.hnd(this.element_,this.attributes_,e):r.pattern.exec(e),a=r.detail),{validated:i,detail:a}}}]),e}(o.a);e.a=f}]);