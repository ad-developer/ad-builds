var ad="object"==typeof ad?ad:{};ad.form=function(r){var n={};function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}return o.m=r,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/assets/",o(o.s=4)}({4:function(t,e,r){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=l(r);return t=n?(t=l(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==o(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.r(e),r.d(e,"default",function(){return n}),r.d(e,"ADForm",function(){return n});var s="ad-form",f="ad-ms-default-text",n=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(o,ad.component.ADComponent);var t,e,r,n=u(o);function o(){return function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),n.apply(this,arguments)}return t=o,r=[{key:"attachTo",value:function(t){var e={validator:function(t){return new ad.advalidator.ADValidator(t)}},r=null,r=new o(t,r=0<(arguments.length<=1?0:arguments.length-1)?Object.assign(e,arg[0]):r);return t.ad=t.ad||{},t.ad[s]=r}},{key:"getInstance",value:function(t){return t.ad&&t.ad[s]?t.ad[s]:null}}],(e=[{key:"init",value:function(){var t=this,e=arguments.length<=0?void 0:arguments[0],r=e.formMetaData;r&&t.build(r),t.controls_=null,t.createControlList_(),t.traceControls_(),t.validator_=e.validator(t.root_)}},{key:"setData",value:function(t){for(var e in this.traceControls_(!0),t){var r,n,o,a;Object.hasOwnProperty.call(t,e)&&(r=t[e],(n=this.root_.querySelector('[ad-id="'.concat(e,'"]')))&&(o=flase,"TEXTAREA"===n.tagName?!ad.ADRte||(a=ad.ADRte.getInstance(n))&&(a.set(r),o=!0):n.hasAttribute(string.MULTISELECT_ATTR)?(a=void 0,(a=this.isMultislect_())&&(a.selectedData(r),o=!0)):this.isClickType_(n)?(n.checked=this.toBool_(r),o=!0):"DIV"!==n.nodeType&&"SPAN"!==n.nodeType||(n.innerHTML=this.htmlDecript_(r),o=!0),o||(n.value=this.htmlDecript_(r)),n.nodeType))}this.traceControls_(!0)}},{key:"getData",value:function(){var n=this;if(this.validator_.isValid()){var o={};return this.controls_.forEach(function(t){var e,r;t.hasAttribute(string.MULTISELECT_ATTR)?(r=n.isMultislect_(t))&&(e=r.getSelectedData()):e=(e=t.getAttribute("ad-data"))||(n.isClickType_(t)?n.toInt_(t.checked):t.value),o[t.getAttribute("ad-id")]=n.htmlEncript_(e)}),o}}},{key:"clear",value:function(){var n=this;this.traceControls_(!0),this.controls_.forEach(function(t){var e,r=!1;t.hasAttribute(f)?(e=n.isMultislect_(t))&&(e.clear(),r=!0):"TEXTAREA"===t.tagName?(e=n.isRte_(t))&&(e.clear(),r=!0):"SELECT"===t.tagName?(n.clearSelect_(t),r=!0):(e=n.isClickType_(t))?r=!(t.checked=!1):"DIV"!==t.tagName&&"SPAN"!==t.tagName||(r=!(t.innerHTML="")),r||(t.value="")}),this.traceControls_(!0),this.root_.querySelectorAll(".ad-error").forEach(function(t){t.classList.remove("ad-error")})}},{key:"build",value:function(t){throw"Not implemented"}},{key:"createControlList_",value:function(){var t=this.root_.querySelectorAll("[ad-id]");this.controls_=t}},{key:"traceControls_",value:function(t){for(var e,r=0,n="blur";e=this.controls_[r++];)"SELECT"===e.nodeType?n="change":this.isClickType_(e)&&(n="click"),t?e.removeEventListener(n,this.traceControlHandler_):e.addEventListener(n,this.traceControlHandler_)}},{key:"traceControlHandler_",value:function(t){this.emit("form.change",{event:t})}},{key:"isClickType_",value:function(t){return t.matches('[type="checkbox"]')||t.matches('[type="radio"]')}},{key:"toBool_",value:function(t){return!!(t=parseInt(t))}},{key:"toInt_",value:function(t){return t?1:0}},{key:"htmlDecript_",value:function(t){var e=t;return t&&"string"==typeof t&&(e=t.replace(/&#39;/g,"'"),e=t.replace(/&quot;/g,'"')),e}},{key:"htmlEncript_",value:function(t){var e=t;return t&&"string"==typeof t&&(e=t.replace(/'/g,"&#39;"),e=t.replace(/"/g,"&quot;")),e}},{key:"isMultislect_",value:function(t){if(ad.ADMultiselect)return ad.ADMultiselect.getInstance(t)}},{key:"isRte_",value:function(t){if(ad.ADRte)return ad.ADRte.getInstance(t)}},{key:"clearSelect_",value:function(t){for(var e=t.querySelectorAll("options"),r=0,n=e.length;r<n;r++)e[i].selected=e[i].defaultSelected}}])&&a(t.prototype,e),r&&a(t,r),o}()}});